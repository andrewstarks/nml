<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<head>
    <title>NML Documentation</title>
    <link rel="stylesheet" href="ldoc_pale.css" type="text/css" />
</head>
<body>

<div id="container">

<div id="product">
	<div id="product_logo"></div>
	<div id="product_name"><big><b></b></big></div>
	<div id="product_description"></div>
</div> <!-- id="product" -->


<div id="main">


<!-- Menu -->

<div id="navigation">
<br/>
<h1>nml</h1>


<h2>Contents</h2>
<ul>
<li><a href="#Fields">Fields</a></li>
<li><a href="#Methods">Methods</a></li>
</ul>


<h2>Classes</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><strong>nml</strong></li>
</ul>
<h2>Topics</h2>
<ul class="$(kind=='Topics' and '' or 'nowrap'">
  <li><a href="topics/readme.md.html">readme</a></li>
</ul>

</div>

<div id="content">

<h1>Class <code>nml</code></h1>
<p>nml
NanoMSG library for lua</p>
<p></p>


<h2><a href="#Fields">Fields</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#nml.domain">nml.domain</a></td>
	<td class="summary">The socket domain</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.protocol">nml.protocol</a></td>
	<td class="summary">The protocol that the socket was created with.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.linger">nml.linger</a></td>
	<td class="summary">The time that a socket tries to send pending outbound messages after close has been called, in milliseconds.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.send_buffer">nml.send_buffer</a></td>
	<td class="summary">Size of the send buffer, in bytes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.receive_buffer">nml.receive_buffer</a></td>
	<td class="summary">Size of the receive buffer, in bytes.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.send_timeout">nml.send_timeout</a></td>
	<td class="summary">The timeout for send operation on the socket, in milliseconds.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.receive_timeout">nml.receive_timeout</a></td>
	<td class="summary">The timeout for receive operation on the socket, in milliseconds.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.reconnect_interval">nml.reconnect_interval</a></td>
	<td class="summary">How long to wait to re-establish a broken connection.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.reconnect_interval_max">nml.reconnect_interval_max</a></td>
	<td class="summary">Specifies maximum reconnection interval.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml.send_priority">nml.send_priority</a></td>
	<td class="summary">Outbound priority of the socket.</td>
	</tr>
</table>
<h2><a href="#Methods">Methods</a></h2>
<table class="function_list">
	<tr>
	<td class="name" nowrap><a href="#nml:new">nml:new (protocol[, is_raw=false])</a></td>
	<td class="summary">Creates a new nml socket object</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:terminate">nml:terminate ()</a></td>
	<td class="summary">Terminates the nml library, forcing all sockets to close.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:bind">nml:bind (self, address)</a></td>
	<td class="summary">Binds a socet to a local transport</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:connect">nml:connect (self, address)</a></td>
	<td class="summary">Connects a socket to a remote endpoint.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:send">nml:send (self, message[, block=true])</a></td>
	<td class="summary">Sends a message to connected end points.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:receive">nml:receive (self[, block=true])</a></td>
	<td class="summary">Receives a message to connected end points.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:shutdown">nml:shutdown (self, end_point)</a></td>
	<td class="summary">Shuts down a socket&rsquo;s endpoint.</td>
	</tr>
	<tr>
	<td class="name" nowrap><a href="#nml:close">nml:close (self)</a></td>
	<td class="summary">Closes a socket.</td>
	</tr>
</table>

<br/>
<br/>


    <h2><a name="Fields"></a>Fields</h2>
    <dl class="function">
    <dt>
    <a name = "nml.domain"></a>
    <strong>nml.domain</strong>
    </dt>
    <dd>
    The socket domain


    <ul>
        <li><span class="parameter">domain</span>
         raw or full socket. Set during <a href="index.html#nml:new">construction</a>
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.protocol"></a>
    <strong>nml.protocol</strong>
    </dt>
    <dd>
    The protocol that the socket was created with.


    <ul>
        <li><span class="parameter">protocol</span>
         Set during <a href="index.html#nml:new">construction</a>.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.linger"></a>
    <strong>nml.linger</strong>
    </dt>
    <dd>
    The time that a socket tries to send pending outbound messages after close has been called, in milliseconds.


    <ul>
        <li><span class="parameter">linger</span>
         Default value is <code>1000</code> (1 second). A false value (<code>false</code> or <code>nil</code>) means infinite linger.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.send_buffer"></a>
    <strong>nml.send_buffer</strong>
    </dt>
    <dd>
    Size of the send buffer, in bytes.


    <ul>
        <li><span class="parameter">send_buffer</span>
         To prevent blocking for messages larger than the buffer, exactly one message may be buffered in addition to the data in the send buffer. Default value is 128kB.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.receive_buffer"></a>
    <strong>nml.receive_buffer</strong>
    </dt>
    <dd>
    Size of the receive buffer, in bytes.


    <ul>
        <li><span class="parameter">receive_buffer</span>
         To prevent blocking for messages larger than the buffer, exactly one message may be buffered in addition to the data in the receive buffer. Default value is 128kB.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.send_timeout"></a>
    <strong>nml.send_timeout</strong>
    </dt>
    <dd>
    The timeout for send operation on the socket, in milliseconds.


    <ul>
        <li><span class="parameter">send_timeout</span>
         If message cannot be sent within the specified timeout, <code>nil</code> plus a timeout message is returned. False (<code>false</code>, but NOT <code>nil</code>) means infinite timeout (block forever). Default is false.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.receive_timeout"></a>
    <strong>nml.receive_timeout</strong>
    </dt>
    <dd>
    The timeout for receive operation on the socket, in milliseconds.


    <ul>
        <li><span class="parameter">receive_timeout</span>
         If no messages are waiting, then <code>false</code> is returned. False (<code>false</code>, but NOT <code>nil</code>) means infinite timeout (block forever). Default is false
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.reconnect_interval"></a>
    <strong>nml.reconnect_interval</strong>
    </dt>
    <dd>
    How long to wait to re-establish a broken connection.


    <ul>
        <li><span class="parameter">reconnect_interval</span>
         For connection-based transports such as TCP. Note that actual reconnect interval may be randomised to some extent to prevent severe reconnection storms. Default value is <code>100</code> (0.1 second).
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.reconnect_interval_max"></a>
    <strong>nml.reconnect_interval_max</strong>
    </dt>
    <dd>
    Specifies maximum reconnection interval.


    <ul>
        <li><span class="parameter">reconnect_interval_max</span>
         This option is to be used only in addition to the <a href="index.html#nml.reconnect_interval">reconnect_interval</a> option. On each reconnect attempt, the previous interval is doubled until <code>reconnect\_interval\_max</code> is reached. Value of <code>false</code> means that no exponential backoff is performed and reconnect interval is based only on <a href="index.html#nml.reconnect_interval">reconnect_interval</a>. If <code>reconnect\_interval\_max</code> is less than <a href="index.html#nml.reconnect_interval">reconnect_interval</a>, it is ignored. Default value is <code>false</code>.
        </li>
    </ul>





</dd>
    <dt>
    <a name = "nml.send_priority"></a>
    <strong>nml.send_priority</strong>
    </dt>
    <dd>
    Outbound priority of the socket.


    <ul>
        <li><span class="parameter">send_priority</span>
         This option has no effect on socket types that send messages to all the peers. However, if the socket type sends each message to a single peer (or a limited set of peers), peers with high priority take precedence over peers with low priority. Highest priority is 1, lowest priority is 16. Default value is 8.
        </li>
    </ul>





</dd>
</dl>
    <h2><a name="Methods"></a>Methods</h2>
    <dl class="function">
    <dt>
    <a name = "nml:new"></a>
    <strong>nml:new (protocol[, is_raw=false])</strong>
    </dt>
    <dd>
    Creates a new nml socket object


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">protocol</span>
            <span class="types"><span class="type">string</span></span>
        <pre><code>The name of the socket's protocol
</code></pre>
        </li>
        <li><span class="parameter">is_raw</span>
        <pre><code>    If true, the protocol is a raw socket
</code></pre>
         (<em>default</em> false)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

        nml         The new <a href="index.html#">nml</a> socket.
    </ol>




</dd>
    <dt>
    <a name = "nml:terminate"></a>
    <strong>nml:terminate ()</strong>
    </dt>
    <dd>
    Terminates the nml library, forcing all sockets to close.







</dd>
    <dt>
    <a name = "nml:bind"></a>
    <strong>nml:bind (self, address)</strong>
    </dt>
    <dd>
    Binds a socet to a local transport


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
        <li><span class="parameter">address</span>
            <span class="types"><span class="type">string</span></span>
        <pre><code>The address that the socket will bind to.
</code></pre>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#">nml</a></span>
        Returns self
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
        error message</li>
    </ol>




</dd>
    <dt>
    <a name = "nml:connect"></a>
    <strong>nml:connect (self, address)</strong>
    </dt>
    <dd>
    Connects a socket to a remote endpoint.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
        <li><span class="parameter">address</span>
            <span class="types"><span class="type">string</span></span>
        <pre><code>The address that the socket will bind to.
</code></pre>
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#">nml</a></span>
        Returns self
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
        error message</li>
    </ol>




</dd>
    <dt>
    <a name = "nml:send"></a>
    <strong>nml:send (self, message[, block=true])</strong>
    </dt>
    <dd>
    Sends a message to connected end points.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
        <li><span class="parameter">message</span>
            <span class="types"><span class="type">string</span></span>
        <pre><code>The message to send.
</code></pre>
        </li>
        <li><span class="parameter">block</span>
         If true or none or nil, this call will block on send. If false, then it will not <em>block</em>, even if the socket was not ready to send. In this case, false is returned.
         (<em>default</em> true)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#">nml</a></span>
        Returns self
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
        error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "nml:receive"></a>
    <strong>nml:receive (self[, block=true])</strong>
    </dt>
    <dd>
    Receives a message to connected end points.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
        <li><span class="parameter">block</span>
         If true or none or nil, this call will block on receive. If false, then it will not <em>block</em>, even if there is no message to receive. In this case, false is returned.
         (<em>default</em> true)
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><span class="type">string</span></span>
        Returns the message
    </ol>
     <h3>Or</h3>
    <ol>

           <span class="types"><span class="type">bool</span></span>
        Returns false, if the call was not blocking and there wasn&rsquo;t a message ready to receive.
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
        error message.</li>
    </ol>




</dd>
    <dt>
    <a name = "nml:shutdown"></a>
    <strong>nml:shutdown (self, end_point)</strong>
    </dt>
    <dd>
    Shuts down a socket&rsquo;s endpoint.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
        <li><span class="parameter">end_point</span>
            <span class="types"><span class="type">bool</span>, <span class="type">number</span> or <span class="type">table</span></span>
         If boolean <code>true</code>, all endpoints are removed. If a number or the <code>socket.end_points[indx]</code> table, then the specified endpoint is removed.
        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#">nml</a></span>
        self
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
           <span class="types"><span class="type">string</span></span>
        error message. This is usually caused by an invalid end_point.</li>
    </ol>




</dd>
    <dt>
    <a name = "nml:close"></a>
    <strong>nml:close (self)</strong>
    </dt>
    <dd>
    Closes a socket.


    <h3>Parameters:</h3>
    <ul>
        <li><span class="parameter">self</span>
            <span class="types"><a class="type" href="index.html#">nml</a></span>

        </li>
    </ul>

    <h3>Returns:</h3>
    <ol>

           <span class="types"><a class="type" href="index.html#">nml</a></span>
        self
    </ol>
     <h3>Or</h3>
    <ol>
        <li>
        nil</li>
        <li>
        error message.</li>
    </ol>




</dd>
</dl>


</div> <!-- id="content" -->
</div> <!-- id="main" -->
<div id="about">
<i>generated by <a href="http://github.com/stevedonovan/LDoc">LDoc 1.4.2</a></i>
</div> <!-- id="about" -->
</div> <!-- id="container" -->
</body>
</html>
